import{b as U,c as X}from"./chunk-Z5QMCUWU.js";import{c as P}from"./chunk-DXAKQD4J.js";import{a as Y}from"./chunk-AYPWSZRO.js";import{b as W}from"./chunk-KPEBN26H.js";import"./chunk-ISXB7HXH.js";import"./chunk-JWRZONS3.js";import"./chunk-LGYKSNM7.js";import"./chunk-CAIS2L7Q.js";import"./chunk-HFL7CNX7.js";import{b as L,f as G,j as H,m as J,u as K,v as Q}from"./chunk-AM7733XC.js";import{c as E,d as T}from"./chunk-KZPEUG5X.js";import"./chunk-NB6J7F7F.js";import{i as A,j as M,m as N}from"./chunk-YVATBKZN.js";import{$b as S,Aa as _,Ab as v,Eb as l,Ma as B,Pb as n,Qb as r,Rb as s,Vb as q,Y as k,_b as y,b as j,jb as o,jc as p,kb as c,kc as x,lc as R,mc as z,nc as V,oa as b,oc as D,pc as F,qb as O,rc as I,ub as w,xc as u,yc as m,za as h}from"./chunk-NURSLYAJ.js";import"./chunk-EQDQRRRY.js";function ie(i,f){if(i&1&&(n(0,"span",17),p(1),u(2,"translate"),r()),i&2){let t=S();o(),z("",t.product.discount,"% ",m(2,2,"global.sale"),"")}}function ne(i,f){if(i&1&&(n(0,"del",18),p(1),u(2,"currency"),r()),i&2){let t=S();o(),x(m(2,1,t.product.price))}}function re(i,f){i&1&&(n(0,"div",19),s(1,"div",20),r())}function oe(i,f){if(i&1&&(n(0,"p",21),p(1),u(2,"translate"),n(3,"span",22),p(4),r()()),i&2){let t=S();o(),R("",m(2,2,"global.qty")," "),o(3),x(t.qty)}}var Z=(()=>{class i{constructor(t,a,e){this._MatDialog=t,this._Router=a,this._ToastrService=e}ngOnInit(){}openDetails(){this._MatDialog.open(X,{data:{path:this._Router.url,model:this.product}}).afterClosed().subscribe(a=>{console.log("product dialog closed => message: ",a),a=="updated"&&this._ToastrService.success(localStorage.getItem("lang")=="ar"?"\u062A\u0645 \u062A\u0639\u062F\u064A\u0644 \u0627\u0644\u0645\u0646\u062A\u062C \u0628\u0646\u062C\u0627\u062D":"product updated successfully")})}static{this.\u0275fac=function(a){return new(a||i)(c(P),c(W),c(Y))}}static{this.\u0275cmp=b({type:i,selectors:[["app-card"]],inputs:{product:"product",qty:"qty"},standalone:!0,features:[I],decls:26,vars:13,consts:[[1,"card","group/card","relative"],["class","px-5 py-1 text-xs absolute z-10 top-2 rtl:left-2 ltr:right-2 shadow-sm bg-red-500 text-white rounded-tl-full rounded-br-full text-center",4,"ngIf"],[1,"h-48","overflow-hidden"],["src","img-1.jpg","alt","Shoes",1,"w-full","duration-200","group-hover/card:scale-110"],[1,"card-body","p-5"],[1,"text-blue-500","text-sm","px-3","w-fit","bg-blue-100","border","border-blue-500","rounded-full"],[1,"top","flex","justify-between","items-center"],[1,"card-title","text-2xl","hover:text-blue-900","cursor-pointer","duration-200","line-clamp-1",3,"click"],[1,"rate","flex","gap-1","items-center"],[1,"pi","pi-star-fill","text-yellow-500"],[1,"price","flex","items-center","gap-2"],["class","text-sm text-gray-400",4,"ngIf"],[1,"flex","items-center","gap-2","mb-3"],[1,"pi","pi-shop","text-blue-800"],[1,"text-gray-400"],["class","hr w-full bg-gray-200 h-1 rounded-full shadow-inner overflow-hidden",4,"ngIf"],["class","text-sm",4,"ngIf"],[1,"px-5","py-1","text-xs","absolute","z-10","top-2","rtl:left-2","ltr:right-2","shadow-sm","bg-red-500","text-white","rounded-tl-full","rounded-br-full","text-center"],[1,"text-sm","text-gray-400"],[1,"hr","w-full","bg-gray-200","h-1","rounded-full","shadow-inner","overflow-hidden"],[1,"hr-inner","h-1","w-1/4","bg-blue-800","rounded-full"],[1,"text-sm"],[1,"font-semibold"]],template:function(a,e){a&1&&(n(0,"div",0),v(1,ie,3,4,"span",1),n(2,"figure",2),s(3,"img",3),r(),n(4,"div",4)(5,"span",5),p(6),r(),n(7,"div",6)(8,"h2",7),y("click",function(){return e.openDetails()}),p(9),r()(),n(10,"div",8),s(11,"i",9),n(12,"span"),p(13),r()(),n(14,"div",10)(15,"span"),p(16),u(17,"currency"),r(),v(18,ne,3,3,"del",11),r(),n(19,"p",12),s(20,"i",13),n(21,"span",14),p(22),u(23,"translate"),r()(),v(24,re,2,0,"div",15)(25,oe,5,4,"p",16),r()()),a&2&&(o(),l("ngIf",e.product.discount>0),o(5),R(" ",e.product.category," "),o(3),x(e.product.title),o(4),x(e.product.rate),o(3),x(m(17,9,e.product.priceOfterDiscount)),o(2),l("ngIf",e.product.discount>0),o(4),x(m(23,11,"global.by-store")),o(2),l("ngIf",e.qty!=null),o(),l("ngIf",e.qty!=null))},dependencies:[N,T,E,M]})}}return i})();function ae(i,f){i&1&&s(0,"i",23)}function le(i,f){i&1&&s(0,"i",24)}function de(i,f){if(i&1&&(n(0,"div",25),s(1,"app-card",26),r()),i&2){let t=f.$implicit;o(),l("product",t)}}var Se=(()=>{class i{constructor(t,a,e,d){this._MatDialog=t,this._ElementRef=a,this._Renderer2=e,this._ProductService=d,this.sorting=void 0,this.loadSorting=w(!1),this.products=[]}ngOnInit(){this.getAll()}add(){}sortingChanged(){this.loadSorting=w(!0),this.getAll(1,10,this.sorting)}getAll(t=1,a=10,e=void 0){this._ProductService.getAll(t,a,e).pipe(k(d=>{this.products=d.data.products,this.loadSorting()&&(this.loadSorting=w(!1))})).subscribe(j,d=>console.log(d))}toggleSortingOptions(){let t=this._ElementRef.nativeElement.querySelector("#sorting-options");t.classList.contains("hidden")?(console.log(!0),this._Renderer2.addClass(t,"opacity-0"),this._Renderer2.removeClass(t,"hidden"),setTimeout(()=>{this._Renderer2.removeClass(t,"translate-y-2"),this._Renderer2.removeClass(t,"opacity-0")},200)):(this._Renderer2.addClass(t,"translate-y-2"),this._Renderer2.addClass(t,"opacity-0"),setTimeout(()=>{this._Renderer2.addClass(t,"hidden"),this._Renderer2.removeClass(t,"opacity-0")},200))}static{this.\u0275fac=function(a){return new(a||i)(c(P),c(B),c(O),c(U))}}static{this.\u0275cmp=b({type:i,selectors:[["app-products"]],standalone:!0,features:[I],decls:28,vars:13,consts:[["input",""],[1,"relative"],[1,"container","mx-auto","grid","grid-cols-12","gap-5"],[1,"header","col-span-12"],[1,"inner","flex","items-center","gap-2","text-gray-400","mb-2"],[1,"search-bar","p-1","rounded-full","border","w-full","h-11","flex","items-center","gap-2"],["for","search",1,"cursor-pointer"],[1,"pi","pi-search","text-xl","ps-2"],["type","text","name","","id","search",1,"h-full","rounded-full","flex-grow","px-5","bg-transparent","focus:outline-none","focus:shadow-inner","duration-200","transition-shadow",3,"placeholder"],[1,"relative","focus-visible:outline-none",3,"click"],[1,"icon","h-11","w-11","flex","items-center","justify-center","rounded-full","border"],["class","pi pi-filter",4,"ngIf"],["class","pi pi-spinner animate-spin",4,"ngIf"],["id","sorting-options",1,"absolute","top-full","rtl:left-0","ltr:right-0","bg-white","z-20","rounded-md","shadow-md","overflow-hidden","hidden","duration-200","translate-y-2"],[1,"layer","fixed","top-0","left-0","bottom-0","right-0","cursor-default","z-10"],[1,"px-4","py-2","hover:bg-gray-100","duration-200","relative","z-20","text-nowrap"],["type","radio","id","asc",1,"hidden",3,"ngModelChange","value","ngModel"],["for","asc",1,"cursor-pointer","w-full"],["type","radio","id","desc",1,"hidden",3,"ngModelChange","value","ngModel"],["for","desc",1,"cursor-pointer","w-full"],["class","card col-span-12 sm:col-span-6 lg:col-span-3",4,"ngFor","ngForOf"],[1,"w-12","h-12","rounded-full","bg-gray-50","border","shadow-md","fixed","bottom-5","left-5","z-50",3,"click","title"],[1,"pi","pi-plus","text-xl"],[1,"pi","pi-filter"],[1,"pi","pi-spinner","animate-spin"],[1,"card","col-span-12","sm:col-span-6","lg:col-span-3"],[3,"product"]],template:function(a,e){if(a&1){let d=q();n(0,"section",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"label",6),s(6,"i",7),r(),s(7,"input",8,0),u(9,"translate"),r(),n(10,"button",9),y("click",function(){return h(d),_(e.toggleSortingOptions())}),n(11,"div",10),v(12,ae,1,0,"i",11)(13,le,1,0,"i",12),r(),n(14,"ul",13),s(15,"div",14),n(16,"li",15)(17,"input",16),F("ngModelChange",function(g){return h(d),D(e.sorting,g)||(e.sorting=g),_(g)}),y("ngModelChange",function(){return h(d),_(e.sortingChanged())}),r(),n(18,"label",17),p(19,"Number of sale"),r()(),n(20,"li",15)(21,"input",18),F("ngModelChange",function(g){return h(d),D(e.sorting,g)||(e.sorting=g),_(g)}),y("ngModelChange",function(){return h(d),_(e.sortingChanged())}),r(),n(22,"label",19),p(23,"Rate count"),r()()()()()(),v(24,de,2,1,"div",20),r(),n(25,"button",21),u(26,"translate"),y("click",function(){return h(d),_(e.add())}),s(27,"i",22),r()()}a&2&&(o(7),l("placeholder",m(9,9,"product.search-by-name")),o(5),l("ngIf",!e.loadSorting()),o(),l("ngIf",e.loadSorting()),o(4),l("value","-numberOfSale"),V("ngModel",e.sorting),o(4),l("value","-rateCount"),V("ngModel",e.sorting),o(3),l("ngForOf",e.products),o(),l("title",m(26,11,"product.add-product")))},dependencies:[Z,T,E,K,L,J,G,H,Q,A,M]})}}return i})();export{Se as ProductsComponent};
