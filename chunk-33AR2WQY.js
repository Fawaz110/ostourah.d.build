import{c as V}from"./chunk-QZYTIN3Q.js";import{b as x,c as B}from"./chunk-QV7T5EUM.js";import{a as Y}from"./chunk-53OKXBOQ.js";import"./chunk-6YXA2VOV.js";import"./chunk-HC6SFDAR.js";import{a as _}from"./chunk-CBSXQYAH.js";import"./chunk-QGIVEQQG.js";import"./chunk-RE2A7MOP.js";import{W as q,Y as j,Z as G,ba as z,ca as J,da as O,ea as U}from"./chunk-KMXPC4HX.js";import{b as M,d as n,g as F,h as A,j as S,l as b,o as T,p as y,q as N,v as w,w as E,x as k}from"./chunk-FYKKZEPL.js";import{d as v}from"./chunk-NEIT6DS5.js";import"./chunk-NNPMHJAH.js";import"./chunk-DSNFU57T.js";import{Ab as C,Eb as f,Kb as I,Pb as r,Qb as a,Rb as D,Y as g,Yb as d,b as h,hc as s,jb as c,kb as l,oa as p,pc as u}from"./chunk-2NZAWTBJ.js";import"./chunk-EQDQRRRY.js";function P(o,Q){o&1&&(r(0,"mat-error"),s(1,"Name is "),r(2,"strong"),s(3,"required"),a()())}var Z=(()=>{class o{constructor(t,e,i){this._FormBuilder=t,this.data=e,this._HttpClient=i,this.url="https://server.khezanatalkutub.com/api/v1/admin",this.file=new S("",[n.required]),this.formData=new FormData}ngOnInit(){this.data==null&&this.addAdminForm()}fileChenged(t){let e=t.target.files[0];console.log(e),this.formData.append("profileImg",e)}addAdminForm(){this.form=this._FormBuilder.group({name:["Desha",[n.required]],email:["Desha@mail.com",[n.required]],password:["Desha@123",[n.required]],passwordConfirm:["Desha@123",[n.required]],phone:["01023456789",[n.required]],gender:["male",[n.required]],roles:["controlAdmins",[n.required]]})}submit(){debugger;for(let[t,e]of Object.entries(this.form.value))this.formData.append(t,e),console.log(this.formData.has("profileImg")),console.log(this.formData.has("name")),console.log(this.formData.has("email")),console.log(this.formData.has("password")),console.log(this.formData.has("passwordConfirm")),console.log(this.formData.has("phone")),console.log(this.formData.has("gender")),console.log(this.formData.has("roles")),console.log("========");this.addAdmin().pipe(g(t=>{console.log("add admin res: ",t)})).subscribe(h,t=>console.log(t))}addAdmin(){return this._HttpClient.post(this.url,this.formData,{headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY3NzI5ODQ5M2E2MzJkMTA3Nzk5MTUwYyIsInJvbGUiOiJhZG1pbiIsImlhdCI6MTczNTk5NTIyMCwiZXhwIjoxNzM4NTg3MjIwfQ.YWwKSPAN1mSFUcW0G86Zn-FSy-c-TknTDYniq31LVEI",enctype:"multipart/form-data"}})}static{this.\u0275fac=function(e){return new(e||o)(l(w),l(x),l(_))}}static{this.\u0275cmp=p({type:o,selectors:[["app-admin-form"]],standalone:!0,features:[u],decls:12,vars:4,consts:[[1,"p-5"],[3,"ngSubmit","formGroup"],[1,"inner","grid","grid-cols-12"],[1,"col-span-12","md:col-span-6"],[1,"w-full"],["type","name","matInput","","formArrayName","name","placeholder","Ex. pat@example.com"],["type","file",3,"change","formControl","multiple"]],template:function(e,i){if(e&1&&(r(0,"section",0)(1,"form",1),d("ngSubmit",function(){return i.submit()}),r(2,"div",2)(3,"div",3)(4,"mat-form-field",4)(5,"mat-label"),s(6,"Email"),a(),D(7,"input",5),C(8,P,4,0,"mat-error"),a()()(),r(9,"button"),s(10,"Submit"),a()(),r(11,"input",6),d("change",function(H){return i.fileChenged(H)}),a()()),e&2){let m;c(),f("formGroup",i.form),c(7),I((m=i.form.get("name"))!=null&&m.hasError("required")&&((m=i.form.get("name"))!=null&&m.touched)?8:-1),c(3),f("formControl",i.file)("multiple",!1)}},dependencies:[q,E,b,M,F,A,J,z,j,G,U,O,k,T,y,N]})}}return o})();var pe=(()=>{class o{constructor(t,e){this._MatDialog=t,this._ToastrService=e}ngOnInit(){}add(){this._MatDialog.open(Z,{data:null}).afterClosed().subscribe(e=>{e=="added"?this._ToastrService.success(localStorage.getItem("lang")?.includes("en")?"\u0650Admin added successfully":"\u062A\u0645\u062A \u0627\u0636\u0627\u0641\u0629 \u0627\u0644\u0645\u0633\u0624\u0648\u0644 \u0628\u0646\u062C\u0627\u062D"):this._ToastrService.error(localStorage.getItem("lang")?.includes("en")?"Nothing added":"\u0644\u0645 \u064A\u062A\u0645 \u0627\u062A\u0645\u0627\u0645 \u0627\u0644\u0639\u0645\u0644\u064A\u0629")})}openDialog(){let t=this._MatDialog.open(V,{data:"user"});console.log(t)}static{this.\u0275fac=function(e){return new(e||o)(l(B),l(Y))}}static{this.\u0275cmp=p({type:o,selectors:[["app-users"]],standalone:!0,features:[u],decls:2,vars:0,consts:[["mat-flat-button","",3,"click"]],template:function(e,i){e&1&&(r(0,"button",0),d("click",function(){return i.add()}),s(1,"Add Admin"),a())},dependencies:[v]})}}return o})();export{pe as UsersComponent};
