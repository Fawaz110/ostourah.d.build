import{a as q}from"./chunk-VUA3ZUA7.js";import{a as G}from"./chunk-53OKXBOQ.js";import"./chunk-HC6SFDAR.js";import"./chunk-CBSXQYAH.js";import{b as O,g as z,k as N,w as R,x as U}from"./chunk-FYKKZEPL.js";import{c as j,d as D}from"./chunk-NEIT6DS5.js";import"./chunk-NNPMHJAH.js";import{j as F,k as A,p as L}from"./chunk-DSNFU57T.js";import{Aa as v,Ab as C,Eb as l,Pb as r,Qb as o,Ra as k,Rb as I,Vb as S,Y as B,Yb as P,Zb as c,b as T,eb as y,hc as s,ic as f,jb as t,jc as M,kb as E,lc as b,mc as h,nc as _,oa as W,pc as V,ub as w,vc as a,wc as p,za as x}from"./chunk-2NZAWTBJ.js";import"./chunk-EQDQRRRY.js";function H(n,g){if(n&1&&I(0,"img",31),n&2){let i=c();l("src",i.profile.profileImg,y)("alt",i.profile.name)}}function J(n,g){if(n&1&&I(0,"img",31),n&2){let i=c();l("src",i.profile.gender=="male"?"male.png":"female.png",y)("alt",i.profile.name)}}function K(n,g){if(n&1){let i=S();r(0,"div",15)(1,"h5",24),s(2),a(3,"translate"),o(),r(4,"input",32),a(5,"translate"),_("ngModelChange",function(e){x(i);let u=c();return h(u.address,e)||(u.address=e),v(e)}),o()()}if(n&2){let i=c();t(2),f(p(3,3,"profile.address.label")),t(2),b("ngModel",i.address),l("placeholder",p(5,5,"profile.address.placeholder"))}}function Q(n,g){if(n&1&&(r(0,"div",33),s(1),o()),n&2){let i=g.$implicit;t(),M("",i," ")}}function X(n,g){if(n&1){let i=S();r(0,"button",34),P("click",function(){x(i);let e=c();return v(e.edit())}),s(1),a(2,"translate"),o()}n&2&&(t(),f(p(2,1,"profile.btn.edit")))}function Y(n,g){if(n&1){let i=S();r(0,"button",35),P("click",function(){x(i);let e=c();return v(e.confirm())}),s(1),a(2,"translate"),o()}n&2&&(t(),f(p(2,1,"profile.btn.confirm")))}function Z(n,g){if(n&1){let i=S();r(0,"button",36),P("click",function(){x(i);let e=c();return v(e.cancel())}),s(1),a(2,"translate"),o()}n&2&&(t(),f(p(2,1,"profile.btn.cancel")))}var me=(()=>{class n{constructor(i,m,e){this._AuthService=i,this._PLATFORM_ID=m,this._ToastrService=e,this.editEnabled=w(!1),this.address="",this.edit=()=>this.editEnabled=w(!0)}ngOnInit(){L(this._PLATFORM_ID)&&(document.documentElement.scrollTop=0,document.body.scrollTop=0),this.getProfile()}cancel(){this.editEnabled=w(!1),this.getProfile()}confirm(){let i={name:this.profile.name,email:this.profile.email,address:this.address,gender:this.profile.gender};this._AuthService.updateProfile(i).pipe(B(m=>{this.getProfile(),this.editEnabled=w(!1)})).subscribe(T,m=>this._ToastrService.error(m.error.message))}getProfile(){this._AuthService.getProfile().pipe(B(i=>{this.profile=i.data.admin,console.log("profile: ",this.profile)})).subscribe(T,i=>console.log(i))}static{this.\u0275fac=function(m){return new(m||n)(E(q),E(k),E(G))}}static{this.\u0275cmp=W({type:n,selectors:[["app-profile"]],standalone:!0,features:[V],decls:59,vars:50,consts:[[1,"p-2"],[1,"inner","grid","grid-cols-12","gap-5"],[1,"col-span-12","lg:col-span-3"],[1,"inner","flex","items-center","lg:items-start","justify-center","flex-col","gap-2"],[1,"image","relative","w-52","h-52","rounded-full","my-5","overflow-hidden","group/image"],[1,"w-full","rounded-full"],["class","w-full rounded-full",3,"src","alt",4,"ngIf"],["for","image",1,"absolute","text-white","cursor-pointer","bg-black","bg-opacity-50","opacity-0","group-hover/image:opacity-100","duration-200","top-0","left-0","right-0","bottom-0","flex","flex-col","items-center","justify-center"],[1,"pi","pi-camera","text-5xl"],["type","file","id","image",1,"hidden"],[1,"text-xl","font-bold"],[1,"text-lg","text-gray-600","hover:text-gray-400","duration-200",3,"href"],[1,"underline"],[1,"col-span-12","lg:col-span-9","p-5"],[1,"inner","pb-1","mb-3","border-b"],[1,"form-control"],["for","name"],["type","text",3,"ngModelChange","ngModel","disabled","placeholder"],["for","email"],["type","email",3,"ngModelChange","ngModel","disabled","placeholder"],["for","phone"],["for","gender"],["class","form-control",4,"ngIf"],[1,"my-5"],[1,"text-xl","mb-1"],[1,"roles","flex","gap-2","items-center","flex-wrap"],["class","p-2 border border-blue-800 bg-blue-200 text-blue-800 text-sm rounded-md",4,"ngFor","ngForOf"],[1,"controls","flex","items-center","gap-2"],["class","px-4 py-2 rounded-md border border-blue-800 bg-blue-800 text-white hover:bg-transparent hover:text-blue-800 duration-200",3,"click",4,"ngIf"],["class","px-4 py-2 rounded-md border border-green-400 bg-green-400 text-white hover:bg-transparent hover:text-green-400 duration-200",3,"click",4,"ngIf"],["class","px-4 py-2 rounded-md border border-yellow-500 bg-yellow-500 text-gray-800 hover:bg-transparent duration-200",3,"click",4,"ngIf"],[1,"w-full","rounded-full",3,"src","alt"],["type","text",3,"ngModelChange","ngModel","placeholder"],[1,"p-2","border","border-blue-800","bg-blue-200","text-blue-800","text-sm","rounded-md"],[1,"px-4","py-2","rounded-md","border","border-blue-800","bg-blue-800","text-white","hover:bg-transparent","hover:text-blue-800","duration-200",3,"click"],[1,"px-4","py-2","rounded-md","border","border-green-400","bg-green-400","text-white","hover:bg-transparent","hover:text-green-400","duration-200",3,"click"],[1,"px-4","py-2","rounded-md","border","border-yellow-500","bg-yellow-500","text-gray-800","hover:bg-transparent","duration-200",3,"click"]],template:function(m,e){m&1&&(r(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"figure",5),C(6,H,1,2,"img",6)(7,J,1,2,"img",6),o(),r(8,"label",7),I(9,"i",8),r(10,"span"),s(11),a(12,"translate"),o()(),I(13,"input",9),o(),r(14,"h2",10),s(15),o(),r(16,"a",11)(17,"span",12),s(18),o()(),r(19,"a",11)(20,"span",12),s(21),o()()()(),r(22,"div",13)(23,"div",14)(24,"div",15)(25,"label",16),s(26),a(27,"translate"),o(),r(28,"input",17),a(29,"translate"),_("ngModelChange",function(d){return h(e.profile.name,d)||(e.profile.name=d),d}),o()(),r(30,"div",15)(31,"label",18),s(32),a(33,"translate"),o(),r(34,"input",19),a(35,"translate"),_("ngModelChange",function(d){return h(e.profile.email,d)||(e.profile.email=d),d}),o()(),r(36,"div",15)(37,"label",20),s(38),a(39,"translate"),o(),r(40,"input",17),a(41,"translate"),_("ngModelChange",function(d){return h(e.profile.phone,d)||(e.profile.phone=d),d}),o()(),r(42,"div",15)(43,"label",21),s(44),a(45,"translate"),o(),r(46,"input",17),a(47,"translate"),_("ngModelChange",function(d){return h(e.profile.gender,d)||(e.profile.gender=d),d}),o()(),C(48,K,6,7,"div",22),r(49,"div",23)(50,"h5",24),s(51),a(52,"translate"),o(),r(53,"div",25),C(54,Q,2,1,"div",26),o()()(),r(55,"div",27),C(56,X,3,3,"button",28)(57,Y,3,3,"button",29)(58,Z,3,3,"button",30),o()()()()),m&2&&(t(6),l("ngIf",e.profile.profileImg!=null),t(),l("ngIf",e.profile.profileImg==null),t(4),f(p(12,30,"profile.change-profile")),t(4),f(e.profile.name),t(),l("href","mailto:"+e.profile.email,y),t(2),M(" ",e.profile.email," "),t(),l("href","tel:"+e.profile.phone,y),t(2),M(" ",e.profile.phone," "),t(5),f(p(27,32,"profile.name.label")),t(2),b("ngModel",e.profile.name),l("disabled",!e.editEnabled())("placeholder",p(29,34,"profile.name.placeholder")),t(4),f(p(33,36,"profile.email.label")),t(2),b("ngModel",e.profile.email),l("disabled",!e.editEnabled())("placeholder",p(35,38,"profile.email.placeholder")),t(4),f(p(39,40,"profile.phone.label")),t(2),b("ngModel",e.profile.phone),l("disabled",!e.editEnabled())("placeholder",p(41,42,"profile.phone.placeholder")),t(4),f(p(45,44,"profile.gender.label")),t(2),b("ngModel",e.profile.gender),l("disabled",!e.editEnabled())("placeholder",p(47,46,"profile.phone.placeholder")),t(2),l("ngIf",e.editEnabled()),t(3),f(p(52,48,"profile.role.label")),t(3),l("ngForOf",e.profile.roles),t(2),l("ngIf",!e.editEnabled()),t(),l("ngIf",e.editEnabled()),t(),l("ngIf",e.editEnabled()))},dependencies:[A,F,D,j,R,O,z,N,U]})}}return n})();export{me as ProfileComponent};
